---
layout: default
---

{% capture pretty_date %}
  {% assign day = page.date | date: "%-d"  %}
  {{ page.date | date: "%B" }}
  {% case day %}{% when '1' or '21' or '31' %}{{ day }}st{% when '2' or '22' %}{{ day }}nd{% when '3' or '23' %}{{ day }}rd{% else %}{{ day }}th{% endcase %}{{ page.date | date: ", %Y" }}
{% endcapture %}

<main class="posts" role="main">
  <div class="posts__head">
    <h1 class="posts__title"> {{ page.title }} </h1>
    <time class="posts__date" datetime="{{ page.date | date_to_xmlschema }}"> {{ pretty_date }} </time>
    <div class="posts__labels">
    {% if page.category %} <a href="{{ site.baseurl }}/category/{{ page.category }}" class="posts__category">{{ page.category }}</a>{% endif %}
    {% if page.tags %}{% for tag in page.tags %} <a href="{{ site.baseurl }}/tag/{{ tag }}" class="posts__tag">{{ tag }}</a>{% endfor %}{% endif %}
    </div>
  </div>
  <div class="posts__body">
    {{ content }}
  </div>
</main>

{% comment %}
{% endcomment %}

{% if page.reddit_posts %}
  <section class="comments">
    {% if page.featured_comments %}
      {% assign call_to_action = "Join the Discussion" %}

      <h2>Featured Comments</h2>
      {% for comment in page.featured_comments %}
      <div class="reddit-embed" data-embed-media="www.redditmedia.com" data-embed-parent="{% if comment.context %}true{% else %}false{% endif %}" data-embed-live="{% if comment.freeze %}false{% else %}true{% endif %}"><a href="{{ comment.url }}"></a></div>
      {% endfor %}

      <script async src="https://www.redditstatic.com/comment-embed.js"></script>
    {% else %}
      {% assign call_to_action = "Comments" %}
    {% endif %}
    <a href="{{ page.reddit_posts }}" target="_blank" class="comments__cta">{{ call_to_action }}</a>
  </section>
{% endif %}
